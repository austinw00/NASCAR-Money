@page "/driver/{DriverId}"
@inject NASCAR_Money.Helpers.IDriversHelper DriversHelper
@using NASCAR_Money.Models
@using MudBlazor
<style>
    .driverImages {
        width: 120px;
        height: auto;
    }
</style>
@if(driverData == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <MudContainer>
    <MudGrid>
        <MudItem xs="12" sm="12">
            <MudCard>     
                <MudCardContent>
                    <img src="@driverData.Firesuit_Image" alt="Driver Image" class="driverImages" />
                    <img src="@driverData.Badge_Image" alt="Driver Badge" class="driverImages" />
                    <img src="@driverData.Manufacturer" alt="Manufacturer" class="driverImages" />

                    <MudText Typo="Typo.h5">@driverData.Full_Name</MudText>
                    <MudText Typo="Typo.body1">@driverData.Team</MudText>
                    <MudText Typo="Typo.body1">@driverData.Hometown_City, @driverData.Hometown_State</MudText>
                    <MudText Typo="Typo.body1">@driverData.Twitter_Handle add link</MudText>
                    <MudText Typo="Typo.body1">Crew Chief @driverData.Crew_Chief add rr link</MudText>
                  


                </MudCardContent>
            </MudCard>
        </MudItem>
    </MudGrid>
</MudContainer>
}


@code {
    [Parameter]
    public string DriverId { get; set; }

    private int driverIdAsInt;
    private DriverData driverData;

    protected override async Task OnInitializedAsync()
    {
        if (!string.IsNullOrEmpty(DriverId))
        {
            driverIdAsInt = Int32.Parse(DriverId);
        }
        driverData = await DriversHelper.GetDriverById(driverIdAsInt);
    }
}

